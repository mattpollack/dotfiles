set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'sainnhe/tmux-fzf'

unbind C-b
set -g prefix C-Space
bind C-Space send-prefix
setw -g mode-keys vi
run '~/.tmux/plugins/tpm/tpm'

unbind w
unbind s
bind-key w run-shell -b "$HOME/.config/tmux/plugins/tmux-fzf/scripts/window.sh switch"
bind-key s run-shell -b "$HOME/.config/tmux/plugins/tmux-fzf/scripts/session.sh switch"

set -g base-index 1
setw -g pane-base-index 1
set-option -g renumber-windows on

# tmux-bridge: Neovim integration hooks

# Pane events
set-hook -g after-split-window "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh pane:new'"
set-hook -g after-kill-pane "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh pane:closed'"
set-hook -g pane-exited "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh pane:closed'"
set-hook -g pane-focus-in "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh pane:focus'"

# Window events
set-hook -g after-new-window "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh window:new'"
set-hook -g window-linked "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh window:changed'"
set-hook -g window-unlinked "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh window:closed'"
set-hook -g window-renamed "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh window:renamed'"
set-hook -g window-resized "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh window:resized'"

# Session events
set-hook -g after-new-session "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh session:new'"
set-hook -g session-closed "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh session:closed'"
set-hook -g client-session-changed "run-shell '$HOME/.config/tmux/scripts/nvim-bridge-hook.sh session:changed'"

# bind-key C-r run-shell "$HOME/.config/tmux/scripts/find-and-run-cursor-resume.sh"
# bind-key -n C-a select-pane -t 10
# bind-key -n M-2 select-window -t 2
# bind-key -n M-3 select-window -t 3
# bind-key -n M-4 select-window -t 4
# bind-key -n M-5 select-window -t 5
# bind-key -n M-6 select-window -t 6
# bind-key -n M-7 select-window -t 7
# bind-key -n M-8 select-window -t 8
# bind-key -n M-9 select-window -t 9
